# pyinstaller

## 引入

```
pip install pyinstaller
```

## 相关命令

在实践中使用的方法

```
Pyinstaller -D -w -i favicon.ico zhongtong.py
```

`zhongtong.py`是主要文件

`-D`以目录形式打包，`-F`打包成单个exe文件

`-w`打开打包好的文件时不弹出cmd

指定文件图标时只能使用`ico`格式图片

## 注意

**打包流程**

先用conda新建一个环境并安装所需要的包

然后将文件和图标扔进去后，在cmd将目录切换到该文件夹之后即可开始，打包时会将该环境中安装的所有包都打包进里面。用pipenv应该能很好的解决这个问题，还没试过。

打包完的文件目录应该放在全英文目录下才能运行

**踩到的坑**

我看到网上其他人使用`pipenv`创建环境进行打包，但是我使用的时候一直报错找不到`win32api`，无论如何安装都没用。使用conda创建环境只安装打包所需要的包后解决了该问题

打包好的文件只能放在全英文路径下

在32位机器上打包出来的文件就只能在32位机器上运行，64位同理。win平台打包出来的文件只能在win平台上运行，mac，linux同理

urllib3这个包应该是python自带的不用安装，但是不安装会报错，安装后解决了该问题
